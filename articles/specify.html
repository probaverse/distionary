<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Specify a Distribution • distionary</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify a Distribution">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-73DKMR0WHY"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-73DKMR0WHY');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">distionary</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/evaluate.html">Evaluate a Distribution</a></li>
    <li><a class="dropdown-item" href="../articles/specify.html">Specify a Distribution</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/probaverse/distionary/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Specify a Distribution</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/probaverse/distionary/blob/main/vignettes/specify.Rmd" class="external-link"><code>vignettes/specify.Rmd</code></a></small>
      <div class="d-none name"><code>specify.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://distionary.probaverse.com/">distionary</a></span><span class="op">)</span></span></code></pre></div>
<p>This vignette covers the first goal of <code>distionary</code>: to
provide a framework for <em>creating</em> a distribution, either one of
the built-in distributions, or your own.</p>
<div class="section level2">
<h2 id="built-in-distribution-families">Built-In Distribution Families<a class="anchor" aria-label="anchor" href="#built-in-distribution-families"></a>
</h2>
<p>All distribution families found in the <code>stats</code> package are
made available with <code>distionary</code>, along with a few others.
All families are shown in the following table.</p>
<table class="table">
<colgroup>
<col width="39%">
<col width="27%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Distribution</th>
<th>
<code>distionary</code> Function</th>
<th>Has counterpart in <code>stats</code>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Bernoulli</td>
<td><code><a href="../reference/dst_bern.html">dst_bern()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Beta</td>
<td><code><a href="../reference/dst_beta.html">dst_beta()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Binomial</td>
<td><code><a href="../reference/dst_binom.html">dst_binom()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Cauchy</td>
<td><code><a href="../reference/dst_cauchy.html">dst_cauchy()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Chi Squared</td>
<td><code><a href="../reference/dst_chisq.html">dst_chisq()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Degenerate</td>
<td><code><a href="../reference/dst_degenerate.html">dst_degenerate()</a></code></td>
<td>No</td>
</tr>
<tr class="odd">
<td>Exponential</td>
<td><code><a href="../reference/dst_exp.html">dst_exp()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>F</td>
<td><code><a href="../reference/dst_f.html">dst_f()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Gamma</td>
<td><code><a href="../reference/dst_gamma.html">dst_gamma()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Geometric</td>
<td><code><a href="../reference/dst_geom.html">dst_geom()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Generalised Extreme Value (GEV)</td>
<td><code><a href="../reference/dst_gev.html">dst_gev()</a></code></td>
<td>No</td>
</tr>
<tr class="even">
<td>Generalised Pareto (GPD)</td>
<td><code><a href="../reference/dst_gpd.html">dst_gpd()</a></code></td>
<td>No</td>
</tr>
<tr class="odd">
<td>Hypergeometric</td>
<td><code><a href="../reference/dst_hyper.html">dst_hyper()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Log Normal</td>
<td><code><a href="../reference/dst_lnorm.html">dst_lnorm()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Log Pearson Type III</td>
<td><code><a href="../reference/dst_lp3.html">dst_lp3()</a></code></td>
<td>No</td>
</tr>
<tr class="even">
<td>Negative Binomial</td>
<td><code><a href="../reference/dst_nbinom.html">dst_nbinom()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Normal</td>
<td><code><a href="../reference/dst_norm.html">dst_norm()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Pearson Type III</td>
<td><code><a href="../reference/dst_pearson3.html">dst_pearson3()</a></code></td>
<td>No</td>
</tr>
<tr class="odd">
<td>Poisson</td>
<td><code><a href="../reference/dst_pois.html">dst_pois()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Student <em>t</em>
</td>
<td><code><a href="../reference/dst_t.html">dst_t()</a></code></td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Uniform</td>
<td><code><a href="../reference/dst_unif.html">dst_unif()</a></code></td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Weibull</td>
<td><code><a href="../reference/dst_weibull.html">dst_weibull()</a></code></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>In addition, there is a special “Null” distribution object akin to a
missing or unknown distribution. This is useful, for example, if an
algorithm fails to return a distribution: instead of throwing an error,
a Null distribution can be returned.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Make a Null distribution.</span></span>
<span><span class="va">null</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dst_null.html">dst_null</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Inspect</span></span>
<span><span class="va">null</span></span>
<span><span class="co">#&gt; Null distribution (NA)</span></span></code></pre></div>
<p>A Null distribution always evaluates to NA:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">null</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="fu"><a href="../reference/pmf.html">eval_pmf</a></span><span class="op">(</span><span class="va">null</span>, at <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA NA NA NA</span></span></code></pre></div>
<p>Distributions with a counterpart in the <code>stats</code> package
use the same functions from the package and the same parameter names.
For instance, take a look at the source code defining the Normal
distribution to see that the representations wrap the
<code>stats::*norm()</code> family of functions.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dst_norm</span></span>
<span><span class="co">#&gt; function (mean, sd) </span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;     checkmate::assert_numeric(mean, len = 1)</span></span>
<span><span class="co">#&gt;     checkmate::assert_numeric(sd, 0, len = 1)</span></span>
<span><span class="co">#&gt;     if (is.na(mean) || is.na(sd)) {</span></span>
<span><span class="co">#&gt;         return(dst_null())</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;     distribution(.parameters = list(mean = mean, sd = sd), density = function(x) stats::dnorm(x, </span></span>
<span><span class="co">#&gt;         mean = mean, sd = sd), cdf = function(x) stats::pnorm(x, </span></span>
<span><span class="co">#&gt;         mean = mean, sd = sd), quantile = function(p) stats::qnorm(p, </span></span>
<span><span class="co">#&gt;         mean = mean, sd = sd), realise = function(n) stats::rnorm(n, </span></span>
<span><span class="co">#&gt;         mean = mean, sd = sd), survival = function(x) stats::pnorm(x, </span></span>
<span><span class="co">#&gt;         mean = mean, sd = sd, lower.tail = FALSE), mean = mean, </span></span>
<span><span class="co">#&gt;         median = mean, variance = sd^2, stdev = sd, skewness = 0, </span></span>
<span><span class="co">#&gt;         kurtosis_exc = 0, range = c(-Inf, Inf), .name = "Normal", </span></span>
<span><span class="co">#&gt;         .vtype = "continuous")</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; &lt;bytecode: 0x56040373efb0&gt;</span></span>
<span><span class="co">#&gt; &lt;environment: namespace:distionary&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="user-defined-distributions">User-Defined Distributions<a class="anchor" aria-label="anchor" href="#user-defined-distributions"></a>
</h2>
<p>You can make your own distribution using the
<code><a href="../reference/distribution.html">distribution()</a></code> function. Provide it with name-value pairs
that will be stored with the object in a list. Some names have a special
interpretation in <code>distionary</code> in that they may be leveraged
to compute other properties that aren’t specified in
<code><a href="../reference/distribution.html">distribution()</a></code>. These special names are:</p>
<ul>
<li>Any distributional representation <code>*</code> invoked by
<code>eval_*()</code> (e.g., <code>quantile</code> for
<code><a href="../reference/quantile.html">eval_quantile()</a></code>).</li>
<li>Any property (e.g., <code>mean</code> for <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>)</li>
</ul>
<p>See the <a href="./evaluate.html">Evaluate a Distribution</a>
vignette for more details on these evaluation functions.</p>
<p>For this version of <code>distionary</code>, it is mandatory to
specify at least <code>cdf</code> in order for non-specified properties
to be evaluated. For continuous or discrete distributions,
<code>density</code> or <code>pmf</code> may also be needed.</p>
<p>Optionally, you can also specify an entry for
<code>.parameters</code>, which should be a named list of parameters
that define the distribution. These parameters are never used for
distribution calculations, but are sometimes useful to keep track of for
analysis. It is intended that a future version of
<code>distionary</code> will refer to these parameters for its
calculations, but will not break existing code.</p>
<p>Here is an example distribution.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Make a continuous distribution</span></span>
<span><span class="va">linear</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/distribution.html">distribution</a></span><span class="op">(</span></span>
<span>  density <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">d</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">x</span><span class="op">)</span></span>
<span>    <span class="va">d</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>    <span class="va">d</span></span>
<span>  <span class="op">}</span>,</span>
<span>  cdf <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">p</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">x</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">x</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span></span>
<span>    <span class="va">p</span><span class="op">[</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>    <span class="va">p</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>    <span class="va">p</span></span>
<span>  <span class="op">}</span>,</span>
<span>  g <span class="op">=</span> <span class="fl">9.81</span>,</span>
<span>  another_representation <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span>,</span>
<span>  .vtype <span class="op">=</span> <span class="st">"continuous"</span>,</span>
<span>  .name <span class="op">=</span> <span class="st">"My Linear"</span>,</span>
<span>  .parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Inspect</span></span>
<span><span class="va">linear</span></span>
<span><span class="co">#&gt; My Linear distribution (continuous)</span></span>
<span><span class="co">#&gt; --Parameters--</span></span>
<span><span class="co">#&gt; a </span></span>
<span><span class="co">#&gt; 1</span></span></code></pre></div>
<p>The usual evaluation framework can now be accessed. For example, the
CDF and mean can be evaluated, even though the mean has not been
specified.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/cdf.html">eval_cdf</a></span><span class="op">(</span><span class="va">linear</span>, at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.36 0.75 0.91</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">linear</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.3333333</span></span></code></pre></div>
<p>These quantities can be invoked by the more general function
<code><a href="../reference/eval_property.html">eval_property()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_property.html">eval_property</a></span><span class="op">(</span><span class="va">linear</span>, <span class="st">"cdf"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.36 0.75 0.91</span></span>
<span><span class="fu"><a href="../reference/eval_property.html">eval_property</a></span><span class="op">(</span><span class="va">linear</span>, <span class="st">"mean"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.3333333</span></span></code></pre></div>
<p><code><a href="../reference/eval_property.html">eval_property()</a></code> is a useful function for accessing
quantities that are not built-in to <code>distionary</code>, like
<code>g</code> and <code>another_representation</code> in this
example.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eval_property.html">eval_property</a></span><span class="op">(</span><span class="va">linear</span>, <span class="st">"another_representation"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  1  4  9 16</span></span>
<span><span class="fu"><a href="../reference/eval_property.html">eval_property</a></span><span class="op">(</span><span class="va">linear</span>, <span class="st">"g"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 9.81</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="network-of-properties">Network of Properties<a class="anchor" aria-label="anchor" href="#network-of-properties"></a>
</h2>
<p>The current version of <code>distionary</code> derives distribution
properties from other properties according to the following network. An
arrow from one property to another indicates that the first property can
be calculated from the second. For example, <code>quantile</code> can be
calculated from <code>cdf</code>, and <code>mean</code> can be
calculated from <code>density</code>.</p>
<p><img src="network_diagram.png" width="100%" style="display: block; margin: auto;"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincenzo Coia.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
